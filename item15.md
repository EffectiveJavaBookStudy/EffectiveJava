# Item15. í´ë˜ìŠ¤ ë©¤ë²„ì˜ ì ‘ê·¼ ê¶Œí•œì„ ìµœì†Œí™”í•˜ë¼

ê°ì²´ì§€í–¥ì˜ 4ê°€ì§€ ì¤‘ ì´ë²ˆ ì¥ì—ì„œëŠ” ìº¡ìŠí™”ì— ëŒ€í•´ ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

# ìº¡ìŠí™”ì˜ ì¥ì 

ì»´í¬ë„ŒíŠ¸ë¥¼ ë…ë¦½ì‹œì¼œ ê°œë°œ, ë°ìŠ¤íŠ¸ ,ìµœì í™”, ì ìš©, ë¶„ì„, ìˆ˜ì •ì„ ê°œë³„ì ìœ¼ë¡œ í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

- ì‹œìŠ¤í…œ ê°œë°œ ì†ë„ í–¥ìƒ : ì»´í¬ë„ŒíŠ¸ë¥¼ ë³‘ë ¬ì ìœ¼ë¡œ ê°œë°œ ê°€ëŠ¥í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.
- ì‹œìŠ¤í…œ ê´€ë¦¬ ë¹„ìš© ë‚®ì¶¤ : ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ê´€ë¦¬í•˜ì—¬ì„œ ë¹ ë¥¸ ë””ë²„ê¹… + êµì²´ ê°€ëŠ¥í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.
- ì„±ëŠ¥ ìµœì í™” : ì •ë³´ ì€ë‹‰ ìì²´ê°€ ë‚®ì¶”ëŠ”ê±´ ì•„ë‹ˆì§€ë§Œ ì»´í¬ë„ŒíŠ¸ í•˜ë‚˜ì— ì§‘ì¤‘í•  ìˆ˜ ìˆì–´ ìµœì í™” ê°€ëŠ¥í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.
- ì¬ì‚¬ìš©ì„± ë†’ì„ : ê²°í•©ë„ê°€ êµ‰ì¥íˆ ë‚®ì€ ì»´í¬ë„ŒíŠ¸ë¼ë©´ ë‹¤ë¥¸ ê³³ì—ì„œë„ ìœ ìš©í•˜ê²Œ ì“°ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ê°œë°œ ë‚œì´ë„ë¥¼ ë‚®ì¶°ì¤Œ : ì‹œìŠ¤í…œì´ ì „ë¶€ ê°œë°œë˜ì§€ ì•Šì•„ë„ ê°œë³„ë¡œ ë™ì‘ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# âœ… ëª¨ë“  í´ë˜ìŠ¤ì™€ ë©¤ë²„ì˜ ì ‘ê·¼ì„±ì„ ê°€ëŠ¥í•œ í•œ ì¢í˜€ì•¼ í•œë‹¤.

ìë°”ì—ì„œëŠ” **ì ‘ê·¼ ì œí•œì(Access Modifiers)** ë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë˜ìŠ¤ ë° ë©¤ë²„ì˜ ì ‘ê·¼ ë²”ìœ„ë¥¼ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ì ‘ê·¼ ë²”ìœ„ë¥¼ ìµœì†Œí™”í•˜ë©´ **ìº¡ìŠí™”(encapsulation)** ê°€ ê°•í™”ë˜ì–´ ì½”ë“œì˜ ìœ ì§€ë³´ìˆ˜ì„±ê³¼ ë³´ì•ˆì„±ì´ í–¥ìƒë©ë‹ˆë‹¤.

---

## ì ‘ê·¼ ì œí•œìì˜ ì¢…ë¥˜

ìë°”ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì ‘ê·¼ ì œí•œìë¥¼ ì œê³µí•©ë‹ˆë‹¤:

| ì ‘ê·¼ ì œí•œì       | ì ìš© ëŒ€ìƒ         | ì ‘ê·¼ ê°€ëŠ¥ ë²”ìœ„ |
|-----------------|-----------------|-------------|
| **private**      | í´ë˜ìŠ¤ ë©¤ë²„(í•„ë“œ, ë©”ì„œë“œ, ìƒì„±ì) | **ê°™ì€ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ** ì ‘ê·¼ ê°€ëŠ¥ |
| **package-private (default)** | í´ë˜ìŠ¤, ë©¤ë²„ | **ê°™ì€ íŒ¨í‚¤ì§€ ë‚´** ëª¨ë“  í´ë˜ìŠ¤ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥ |
| **protected**    | ë©¤ë²„            | **ê°™ì€ íŒ¨í‚¤ì§€ + í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥** |
| **public**       | í´ë˜ìŠ¤, ë©¤ë²„     | **ëª¨ë“  ê³³ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥** |


### 1. `private` (ê°€ì¥ ì¢ì€ ì ‘ê·¼ ë²”ìœ„)

**ê°™ì€ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë©°, ì™¸ë¶€ í´ë˜ìŠ¤ì—ì„œëŠ” ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.**

```java
public class PrivateExample {
    private String secretData = "ë¹„ë°€ ë°ì´í„°"; // ì™¸ë¶€ í´ë˜ìŠ¤ì—ì„œ ì ‘ê·¼ ë¶ˆê°€

    private void secretMethod() { // ì™¸ë¶€ í´ë˜ìŠ¤ì—ì„œ í˜¸ì¶œ ë¶ˆê°€
        System.out.println("ì´ ë©”ì„œë“œëŠ” privateì…ë‹ˆë‹¤.");
    }

    public void showSecret() {
        System.out.println(secretData);
        secretMethod(); // ê°™ì€ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œëŠ” ì ‘ê·¼ ê°€ëŠ¥
    }
}

public class TestPrivate {
    public static void main(String[] args) {
        PrivateExample example = new PrivateExample();
        // System.out.println(example.secretData); // âŒ ì˜¤ë¥˜ ë°œìƒ (private í•„ë“œ ì ‘ê·¼ ë¶ˆê°€)
        // example.secretMethod(); // âŒ ì˜¤ë¥˜ ë°œìƒ (private ë©”ì„œë“œ ì ‘ê·¼ ë¶ˆê°€)
        example.showSecret(); // âœ… public ë©”ì„œë“œë¥¼ í†µí•´ ê°„ì ‘ ì ‘ê·¼ ê°€ëŠ¥
    }
}
```

### 2. package-private (ê¸°ë³¸ ì ‘ê·¼ì œí•œì, default)

ê°™ì€ íŒ¨í‚¤ì§€ ë‚´ì—ì„œëŠ” ì ‘ê·¼ ê°€ëŠ¥í•˜ì§€ë§Œ, ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì—ì„œëŠ” ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```java
// íŒ¨í‚¤ì§€: com.example
package com.example;

class PackagePrivateExample { // ì ‘ê·¼ ì œí•œìë¥¼ ëª…ì‹œí•˜ì§€ ì•Šìœ¼ë©´ default (package-private)
    String message = "íŒ¨í‚¤ì§€ ë‚´ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥"; // package-private í•„ë“œ

    void showMessage() { // package-private ë©”ì„œë“œ
        System.out.println(message);
    }
}

// ê°™ì€ íŒ¨í‚¤ì§€ ë‚´ì—ì„œëŠ” ì ‘ê·¼ ê°€ëŠ¥
package com.example;

public class TestPackagePrivate {
    public static void main(String[] args) {
        PackagePrivateExample example = new PackagePrivateExample();
        System.out.println(example.message); // âœ… ê°™ì€ íŒ¨í‚¤ì§€ë¼ ì ‘ê·¼ ê°€ëŠ¥
        example.showMessage(); // âœ… ê°™ì€ íŒ¨í‚¤ì§€ë¼ ì ‘ê·¼ ê°€ëŠ¥
    }
}

// ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì—ì„œëŠ” ì ‘ê·¼ ë¶ˆê°€ âŒ
package com.another;

import com.example.PackagePrivateExample;

public class TestOutsidePackage {
    public static void main(String[] args) {
        // PackagePrivateExample example = new PackagePrivateExample(); // âŒ ì˜¤ë¥˜ ë°œìƒ (ë‹¤ë¥¸ íŒ¨í‚¤ì§€)
        // System.out.println(example.message); // âŒ ì˜¤ë¥˜ ë°œìƒ
    }
}
```

###  3. protected (íŒ¨í‚¤ì§€ ë‚´ + ìƒì† ê´€ê³„ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥)

ê°™ì€ íŒ¨í‚¤ì§€ì—ì„œëŠ” ììœ ë¡­ê²Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë©°, ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì—ì„œëŠ” ì˜¤ì§ â€œìƒì† ê´€ê³„â€ì—ì„œë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
// íŒ¨í‚¤ì§€: com.example
package com.example;

public class ProtectedExample {
    protected String protectedData = "protected ë°ì´í„°"; // protected í•„ë“œ

    protected void protectedMethod() { // protected ë©”ì„œë“œ
        System.out.println("ì´ ë©”ì„œë“œëŠ” protectedì…ë‹ˆë‹¤.");
    }
}

// ê°™ì€ íŒ¨í‚¤ì§€ì—ì„œëŠ” ì ‘ê·¼ ê°€ëŠ¥
package com.example;

public class TestProtected {
    public static void main(String[] args) {
        ProtectedExample example = new ProtectedExample();
        System.out.println(example.protectedData); // âœ… ê°™ì€ íŒ¨í‚¤ì§€ë¼ ì ‘ê·¼ ê°€ëŠ¥
        example.protectedMethod(); // âœ… ê°™ì€ íŒ¨í‚¤ì§€ë¼ ì ‘ê·¼ ê°€ëŠ¥
    }
}

// ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì—ì„œëŠ” ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€í•˜ì§€ë§Œ, ìƒì†í•˜ë©´ ì ‘ê·¼ ê°€ëŠ¥ âœ…
package com.another;

import com.example.ProtectedExample;

public class SubClass extends ProtectedExample {
    public void accessProtected() {
        System.out.println(protectedData); // âœ… ë¶€ëª¨ í´ë˜ìŠ¤ì˜ protected ë©¤ë²„ì— ì ‘ê·¼ ê°€ëŠ¥
        protectedMethod(); // âœ… ë¶€ëª¨ í´ë˜ìŠ¤ì˜ protected ë©”ì„œë“œ í˜¸ì¶œ ê°€ëŠ¥
    }
}

public class TestOutsideProtected {
    public static void main(String[] args) {
        SubClass sub = new SubClass();
        sub.accessProtected(); // âœ… ìƒì†ì„ í†µí•´ ì ‘ê·¼ ê°€ëŠ¥

        ProtectedExample example = new ProtectedExample();
        // System.out.println(example.protectedData); // âŒ ì˜¤ë¥˜ ë°œìƒ (ìƒì†ë°›ì§€ ì•Šì€ ê²½ìš° ì ‘ê·¼ ë¶ˆê°€)
        // example.protectedMethod(); // âŒ ì˜¤ë¥˜ ë°œìƒ
    }
}
```
### 4. public (ê°€ì¥ ë„“ì€ ì ‘ê·¼ ë²”ìœ„)

ì–´ë””ì—ì„œë‚˜ ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©°, ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.

```java
// íŒ¨í‚¤ì§€: com.example
package com.example;

public class PublicExample {
    public String publicData = "ê³µê°œ ë°ì´í„°"; // public í•„ë“œ

    public void publicMethod() { // public ë©”ì„œë“œ
        System.out.println("ì´ ë©”ì„œë“œëŠ” publicì…ë‹ˆë‹¤.");
    }
}

// ê°™ì€ íŒ¨í‚¤ì§€ ë° ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì—ì„œë„ ì ‘ê·¼ ê°€ëŠ¥
package com.another;

import com.example.PublicExample;

public class TestPublic {
    public static void main(String[] args) {
        PublicExample example = new PublicExample();
        System.out.println(example.publicData); // âœ… ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì—ì„œë„ ì ‘ê·¼ ê°€ëŠ¥
        example.publicMethod(); // âœ… ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì—ì„œë„ ì ‘ê·¼ ê°€ëŠ¥
    }
}
```

ëª¨ë“  í´ë˜ìŠ¤ì™€ ë©¤ë²„ì˜ ì ‘ê·¼ì„±ì„ ê°€ëŠ¥í•œ í•œ ì¢í˜€ì•¼ í•©ë‹ˆë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ privateì„ ì‚¬ìš©í•˜ê³  í•„ìš”í•œ ê²½ìš°ì—ë§Œ ë” ë„“ì€ ì ‘ê·¼ ì œí•œìë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©í•˜ëŠ” í•„ë“œëŠ” private, 

ê°™ì€ íŒ¨í‚¤ì§€ì—ì„œë§Œ ì ‘ê·¼í•´ì•¼ í•˜ë©´ package-private, 

ìƒì†ë°›ì€ í´ë˜ìŠ¤ì—ì„œë„ ì ‘ê·¼í•´ì•¼ í•˜ë©´ protected, 

ì–´ë””ì„œë‚˜ ì ‘ê·¼ ê°€ëŠ¥í•´ì•¼ í•˜ë©´ public

| ê·¼ë° í…ŒìŠ¤íŠ¸ ìš©ë„ë¡œ ë²”ìœ„ë¥¼ ìˆ˜ì •í•˜ëŠ” ê±´ ê´œì°®ë‹¤ê³  í•˜ë„¤ìš”

ê·¸ëŸ°ë° ì´ëŸ¬í•œ ì ‘ê·¼ì„±ì„ ì¢íˆì§€ ëª»í•˜ê²Œ í•˜ëŠ” ì œì•½ì´ í•˜ë‚˜ ì¡´ì¬í•©ë‹ˆë‹¤.

### ğŸ‘‰ğŸ» ìƒìœ„ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì¬ì •ì˜ í•  ë•ŒëŠ” ê·¸ ì ‘ê·¼ ìˆ˜ì¤€ì„ ìƒìœ„ í´ë˜ìŠ¤ì—ì„œë³´ë‹¤ ì¢ê²Œ ì„¤ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

ë°”ë¡œ ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì— ì˜í•´ì„œ ê·¸ëŸ°ë°ìš”

> ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™?
>
> ìƒìœ„ í´ë˜ìŠ¤ëŠ” í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ëŒ€ì²´í•´ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

```java
// ìƒìœ„ í´ë˜ìŠ¤: Animal
public class Animal {
    // public ë©”ì„œë“œ: í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì¬ì •ì˜ ê°€ëŠ¥í•˜ì§€ë§Œ ì ‘ê·¼ ìˆ˜ì¤€ì„ ë‚®ì¶œ ìˆ˜ ì—†ìŒ
    public void makeSound() {
        System.out.println("ë™ë¬¼ì´ ì†Œë¦¬ë¥¼ ëƒ…ë‹ˆë‹¤.");
    }
}

// í•˜ìœ„ í´ë˜ìŠ¤: Dog
public class Dog extends Animal {
    // âŒ ì»´íŒŒì¼ ì˜¤ë¥˜ ë°œìƒ! (Cannot reduce the visibility of the inherited method from Animal)
    // private void makeSound() {
    //     System.out.println("ë©ë©!");
    // }

    // âœ… ì˜¬ë°”ë¥¸ ë°©ë²•: ì ‘ê·¼ ìˆ˜ì¤€ì„ ìœ ì§€í•˜ê±°ë‚˜ í™•ì¥ ê°€ëŠ¥ (public ìœ ì§€)
    @Override
    public void makeSound() {
        System.out.println("ë©ë©!");
    }
}

// ì‹¤í–‰ í´ë˜ìŠ¤
public class TestLiskov {
    public static void main(String[] args) {
        Animal myDog = new Dog();
        myDog.makeSound(); // âœ… "ë©ë©!" ì¶œë ¥ (ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ ìœ ì§€)
    }
}
```

Animal íƒ€ì…ì˜ ì°¸ì¡° ë³€ìˆ˜ê°€ Dog ê°ì²´ë¥¼ ê°€ë¦¬í‚¬ ë•Œ makeSound() ë©”ì„œë“œê°€ ì •ìƒì ìœ¼ë¡œ í˜¸ì¶œë  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

ë§Œì•½ Dogì—ì„œ makeSound()ì˜ ì ‘ê·¼ ì œí•œìë¥¼ private ë˜ëŠ” protectedë¡œ ë³€ê²½í•œë‹¤ë©´ Animal íƒ€ì…ì—ì„œ í˜¸ì¶œì´ ë¶ˆê°€ëŠ¥í•´ì§€ë¯€ë¡œ LSPë¥¼ ìœ„ë°˜í•˜ê²Œ ë©ë‹ˆë‹¤.

## public í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ í•„ë“œëŠ” ë˜ë„ë¡ publicì´ ì•„ë‹ˆì–´ì•¼ í•©ë‹ˆë‹¤.

```java
// âŒ ì˜ëª»ëœ ì„¤ê³„: public ê°€ë³€ í•„ë“œë¥¼ ê°€ì§„ í´ë˜ìŠ¤ (ìŠ¤ë ˆë“œ ì•ˆì „í•˜ì§€ ì•ŠìŒ)
public class UnsafeCounter {
    public int count = 0; // public ê°€ë³€ í•„ë“œ

    public void increment() {
        count++; // ì—¬ëŸ¬ ìŠ¤ë ˆë“œì—ì„œ ë™ì‹œì— ì ‘ê·¼í•˜ë©´ ë¬¸ì œ ë°œìƒ ê°€ëŠ¥
    }
}

// ì‹¤í–‰ ì½”ë“œ (ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ë™ì‘ í™•ì¸)
public class TestUnsafeCounter {
    public static void main(String[] args) {
        UnsafeCounter counter = new UnsafeCounter();

        // 1000ê°œì˜ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— count ì¦ê°€
        for (int i = 0; i < 1000; i++) {
            new Thread(() -> counter.increment()).start();
        }

        // ì ì‹œ ëŒ€ê¸° í›„ ê²°ê³¼ ì¶œë ¥ (ì •í™•í•œ ê°’ì´ ì•„ë‹ ê°€ëŠ¥ì„±ì´ ë†’ìŒ)
        try {
            Thread.sleep(1000); // ìŠ¤ë ˆë“œë“¤ì´ ëª¨ë‘ ì‹¤í–‰ë  ì‹œê°„ì„ ì¤Œ
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        System.out.println("ìµœì¢… count ê°’: " + counter.count); // âŒ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ê²°ê³¼ ë°œìƒ ê°€ëŠ¥
    }
}
```
public ê°€ë³€ í•„ë“œë¥¼ ê°–ëŠ” í´ë˜ìŠ¤ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ìŠ¤ë ˆë“œ ì•ˆì „í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì—¬ëŸ¬ê°€ì§€ ìŠ¤ë ˆë“œì—ì„œ countë¥¼ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ë˜ì–´ ë¬¸ì œê°€ ìƒê¸°ê²Œ ë©ë‹ˆë‹¤.

```java
// âœ… ìº¡ìŠí™” ì ìš©: private í•„ë“œ + ë™ê¸°í™”ëœ ì ‘ê·¼ ë°©ì‹
public class SafeCounter {
    private int count = 0; // privateìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ì§ì ‘ ì ‘ê·¼ ì°¨ë‹¨

    public synchronized void increment() { // synchronizedë¡œ ìŠ¤ë ˆë“œ ì•ˆì „ì„± í™•ë³´
        count++;
    }

    public synchronized int getCount() { // ì•ˆì „í•˜ê²Œ ê°’ì„ ì½ì„ ìˆ˜ ìˆë„ë¡ ë©”ì„œë“œ ì œê³µ
        return count;
    }
}

// ì‹¤í–‰ ì½”ë“œ
public class TestSafeCounter {
    public static void main(String[] args) {
        SafeCounter counter = new SafeCounter();

        for (int i = 0; i < 1000; i++) {
            new Thread(() -> counter.increment()).start();
        }

        try {
            Thread.sleep(1000); // ìŠ¤ë ˆë“œë“¤ì´ ì‹¤í–‰ë  ì‹œê°„ì„ ì¤Œ
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        System.out.println("ìµœì¢… count ê°’: " + counter.getCount()); // âœ… í•­ìƒ 1000 ë³´ì¥
    }
}
```

ê°œì„  ì‚¬í•­
1. ë°ì´í„° ê²½ìŸ ë°©ì§€ â†’ synchronized í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ë™ê¸°í™” ì²˜ë¦¬
2. ë¶ˆë³€ì„± ìœ ì§€ â†’ count í•„ë“œë¥¼ privateìœ¼ë¡œ ì„ ì–¸í•˜ì—¬ ì§ì ‘ ì ‘ê·¼ ë°©ì§€
3. ìº¡ìŠí™” ê°•í™” â†’ ì™¸ë¶€ì—ì„œ countë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ìœ¼ë©°, getCount() ë©”ì„œë“œë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ ê°’ ì œê³µ

## í´ë˜ìŠ¤ì—ì„œ public static final ë°°ì—´ í•„ë“œë¥¼ ë‘ê±°ë‚˜ ì´ í•„ë“œë¥¼ ë°˜í™˜í•˜ëŠ” ì ‘ê·¼ì ë©”ì„œë“œë¥¼ ì œê³µí•´ì„œëŠ” ì•ˆëœë‹¤.

ìë°”ì—ì„œ `public static final`ë¡œ ì„ ì–¸ëœ ë°°ì—´ í•„ë“œëŠ” ë¶ˆë³€(Immutable) í•´ ë³´ì´ì§€ë§Œ

ì‹¤ì œë¡œëŠ” ì™¸ë¶€ì—ì„œ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë³´ì•ˆ ì·¨ì•½ì ì´ ì¡´ì¬í•©ë‹ˆë‹¤.  

## ë³´ì•ˆ í—ˆì  ì¡´ì¬í•˜ëŠ” ì˜ˆì‹œ

```java
public class UnsafeClass {
    public static final String[] VALUES = {"A", "B", "C"};
}
```

âœ… VALUES ë°°ì—´ì´ public static finalë¡œ ì„ ì–¸ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•  ê²ƒì²˜ëŸ¼ ë³´ì…ë‹ˆë‹¤.

âŒ í•˜ì§€ë§Œ ë°°ì—´ ìì²´ëŠ” finalì´ì§€ë§Œ, ë°°ì—´ì˜ ë‚´ìš©(ìš”ì†Œ)ì€ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
public class TestUnsafe {
    public static void main(String[] args) {
        System.out.println(Arrays.toString(UnsafeClass.VALUES)); // [A, B, C]

        // ë°°ì—´ ìš”ì†Œ ë³€ê²½ ì‹œë„
        UnsafeClass.VALUES[0] = "X";
        UnsafeClass.VALUES[1] = "Y";

        // ì›ë³¸ ë°°ì—´ì´ ë³€ê²½ë¨!
        System.out.println(Arrays.toString(UnsafeClass.VALUES)); // [X, Y, C]
    }
}
```

ì´ë ‡ê²Œ ë˜ë©´ ë³´ì•ˆ ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.

final í‚¤ì›Œë“œëŠ” ì°¸ì¡°(ë°°ì—´ì˜ ì£¼ì†Œ) ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ë„ë¡ í•  ë¿ ë°°ì—´ ë‚´ë¶€ ê°’ì€ ìˆ˜ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

-> ì™¸ë¶€ì—ì„œ ì§ì ‘ ë°°ì—´ì„ ìˆ˜ì •í•˜ë©´ ì›ë˜ ì˜ë„í–ˆë˜ ê°’ì´ ë³€ì§ˆë  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

## âœ… í•´ê²° ë°©ë²• 

### âœ… ë°©ë²• 1 : private ë°°ì—´ + public ë¶ˆë³€ ë¦¬ìŠ¤íŠ¸ ë°˜í™˜
```java
import java.util.Collections;
import java.util.List;
import java.util.Arrays;

public class SafeClass {
    private static final String[] VALUES = {"A", "B", "C"};

    public static final List<String> getValues() {
        return Collections.unmodifiableList(Arrays.asList(VALUES));
    }
}
```

ğŸ›¡ï¸ ë³´ì•ˆ ê°•í™”
- VALUES ë°°ì—´ì„ privateìœ¼ë¡œ ì„ ì–¸í•˜ì—¬ ì§ì ‘ ì ‘ê·¼ì„ ë§‰ìŒ
- unmodifiableList()ë¥¼ ì‚¬ìš©í•˜ì—¬ ì™¸ë¶€ì—ì„œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ë„ë¡ ë³´ì¥

```java
public class TestSafe {
    public static void main(String[] args) {
        System.out.println(SafeClass.getValues()); // [A, B, C]

        // SafeClass.getValues().set(0, "X"); // âŒ UnsupportedOperationException ë°œìƒ!
    }
}
```

### âœ… ë°©ë²• 2 : clone()ì„ ì´ìš©í•œ ë³µì‚¬ë³¸ ë°˜í™˜

```java

public class SafeClassClone {
    private static final String[] VALUES = {"A", "B", "C"};

    public static final String[] getValues() {
        return VALUES.clone(); // âœ… ì›ë³¸ì´ ì•„ë‹Œ ë³µì‚¬ë³¸ ë°˜í™˜
    }
}
```
```java
public class TestSafeClone {
    public static void main(String[] args) {
        System.out.println(Arrays.toString(SafeClassClone.getValues())); // [A, B, C]

        // ë³µì‚¬ë³¸ì´ë¯€ë¡œ ì›ë³¸ ë°°ì—´ì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŒ
        String[] modifiedArray = SafeClassClone.getValues();
        modifiedArray[0] = "X";
        
        System.out.println(Arrays.toString(SafeClassClone.getValues())); // [A, B, C] (ë³€ê²½ë˜ì§€ ì•ŠìŒ)
    }
}
```

# ê²°ë¡ 

í•„ìš”í•œ ê²ƒë“¤ë§Œ ê³¨ë¼ì„œ publicìœ¼ë¡œ ì„ ì–¸ì„ í•˜ì!

public í´ë˜ìŠ¤ëŠ” `public static final` í•„ë“œ ì™¸ì—ëŠ” ì–´ë– í•œ public í•„ë“œë„ ê°€ì ¸ì„œëŠ” ì•ˆë©ë‹ˆë‹¤!
